import{createContext as e,createElement as n,useEffect as t,useContext as o,useState as r,Fragment as i,useRef as a}from"react";import l from"prop-types";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var c=function(){return(c=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)};!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('@import url("https://fonts.googleapis.com/css?family=Source+Code+Pro&display=swap");\n#index_terminalContainer__3q4m3 {\n  --prompt-color: #a917a8;\n  --light-theme-bg-color: #fdf6e4;\n  --dark-theme-bg-color: #022833;\n  --light-theme-toolbar-color: #d8d8d8;\n  --dark-theme-toolbar-color: #131519;\n  --light-theme-color: #333333;\n  --dark-theme-color: #839496;\n  --light-theme-anchor-color: #1a87b5;\n  --dark-theme-anchor-color: #ffffff;\n  --control-default-bg-color: #ccc;\n  --control-close-bg-color: #fc5b57;\n  --control-minimize-bg-color: #e5bf3c;\n  --control-maximize-bg-color: #57c038; }\n\n.index_controls__9z-dM {\n  text-align: left;\n  height: 26px;\n  position: relative;\n  top: 4px;\n  margin-left: 4px; }\n  .index_controls__9z-dM .index_consoleCtrl__PQnAL {\n    display: inline-block;\n    width: 13px;\n    height: 13px;\n    margin: 0 3px;\n    border-radius: 50%;\n    background: var(--control-default-bg-color); }\n  .index_controls__9z-dM .index_close__2o6CK {\n    background: var(--control-close-bg-color); }\n  .index_controls__9z-dM .index_minimize__E9mwB {\n    background: var(--control-minimize-bg-color); }\n  .index_controls__9z-dM .index_maximize__sbbYF {\n    background: var(--control-maximize-bg-color); }\n\n.index_editor__2tqRz {\n  text-align: left;\n  height: calc(100% - 46px);\n  padding: 10px 15px;\n  overflow-wrap: break-word;\n  overflow-y: scroll;\n  outline: none;\n  font-family: "Source Code Pro", monospace;\n  background: var(--light-theme-bg-color);\n  font-size: 18px;\n  line-height: 22px;\n  border-bottom-left-radius: 5px;\n  border-bottom-right-radius: 5px; }\n  .index_theme--light__15c4Z .index_editor__2tqRz {\n    background: var(--light-theme-bg-color); }\n  .index_theme--dark__1YsDI .index_editor__2tqRz {\n    background: var(--dark-theme-bg-color); }\n  .index_editor__2tqRz .index_editArea__1Y6QT {\n    display: inline-block;\n    width: 94%;\n    height: 20px;\n    outline: none;\n    border: none;\n    background: inherit;\n    color: transparent;\n    text-shadow: 0 0 0 var(--light-theme-color);\n    font-size: 18px;\n    line-height: 20px;\n    white-space: nowrap; }\n    .index_theme--light__15c4Z .index_editor__2tqRz .index_editArea__1Y6QT {\n      text-shadow: 0 0 0 var(--light-theme-color); }\n    .index_theme--dark__1YsDI .index_editor__2tqRz .index_editArea__1Y6QT {\n      text-shadow: 0 0 0 var(--dark-theme-color); }\n    .index_editor__2tqRz .index_editArea__1Y6QT br {\n      display: none; }\n  .index_editor__2tqRz .index_prompt__2NwNP {\n    color: var(--prompt-color); }\n  .index_editor__2tqRz .index_lineText__2Poex {\n    display: inline;\n    position: relative;\n    top: -1px;\n    margin-left: 8px; }\n  .index_editor__2tqRz .index_preWhiteSpace__3nCT2 {\n    white-space: pre; }\n  .index_editor__2tqRz .index_caret__MYxcn {\n    position: relative;\n    -webkit-animation: index_blink__RQDX- 0.75s ease-in-out infinite;\n    -moz-animation: index_blink__RQDX- 0.75s ease-in-out infinite;\n    -o-animation: index_blink__RQDX- 0.75s ease-in-out infinite;\n    -ms-animation: index_blink__RQDX- 0.75s ease-in-out infinite;\n    animation: index_blink__RQDX- 0.75s ease-in-out infinite; }\n    .index_editor__2tqRz .index_caret__MYxcn .index_caretAfter__2B8sk {\n      content: "";\n      position: absolute;\n      top: 2px;\n      width: 10px;\n      height: 22px;\n      background: var(--light-theme-color);\n      z-index: 10; }\n      .index_theme--light__15c4Z .index_editor__2tqRz .index_caret__MYxcn .index_caretAfter__2B8sk {\n        background: var(--light-theme-color); }\n      .index_theme--dark__1YsDI .index_editor__2tqRz .index_caret__MYxcn .index_caretAfter__2B8sk {\n        background: var(--dark-theme-color); }\n\n@-moz-keyframes index_blink__RQDX- {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0); }\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none; } }\n\n@-webkit-keyframes index_blink__RQDX- {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0); }\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none; } }\n\n@-o-keyframes index_blink__RQDX- {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0); }\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none; } }\n\n@keyframes index_blink__RQDX- {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0); }\n  100% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none; } }\n  .index_editor__2tqRz a {\n    color: var(--light-theme-anchor-color); }\n    .index_theme--light__15c4Z .index_editor__2tqRz a {\n      color: var(--light-theme-anchor-colo) r; }\n    .index_theme--dark__1YsDI .index_editor__2tqRz a {\n      color: var(--dark-theme-anchor-colo) r; }\n\n#index_terminalContainer__3q4m3 {\n  height: 100%; }\n\n.index_terminal__1dSq1 {\n  height: 100%;\n  width: 100%;\n  margin: auto;\n  border-radius: 5px;\n  color: var(--light-theme-color);\n  background: var(--light-theme-toolbar-color); }\n  .index_theme--light__15c4Z .index_terminal__1dSq1 {\n    color: var(--light-theme-color);\n    background: var(--light-theme-toolbar-color); }\n  .index_theme--dark__1YsDI .index_terminal__1dSq1 {\n    color: var(--dark-theme-color);\n    background: var(--dark-theme-toolbar-color); }\n');var _={terminalContainer:"index_terminalContainer__3q4m3",controls:"index_controls__9z-dM",consoleCtrl:"index_consoleCtrl__PQnAL",close:"index_close__2o6CK",minimize:"index_minimize__E9mwB",maximize:"index_maximize__sbbYF",editor:"index_editor__2tqRz","theme--light":"index_theme--light__15c4Z","theme--dark":"index_theme--dark__1YsDI",editArea:"index_editArea__1Y6QT",prompt:"index_prompt__2NwNP",lineText:"index_lineText__2Poex",preWhiteSpace:"index_preWhiteSpace__3nCT2",caret:"index_caret__MYxcn",blink:"index_blink__RQDX-",caretAfter:"index_caretAfter__2B8sk",terminal:"index_terminal__1dSq1"},d=e(null),s=function(e){var t=e.children;return n(d.Provider,{value:_},t)};function m(e){var t=o(d),r=e.controlButtonLabels,i=e.showControlButtons?r.map((function(e){return n("div",{key:e,className:t.consoleCtrl+" "+t[e]})})):null;return n("div",{className:t.controls},i)}var p=e(null),h=function(e,a){var l=o(d),c=r(""),_=c[0],s=c[1],m=r(!1),p=m[0],h=m[1];return function(e,n,o,r){var i=function(t){if(e)if(t.preventDefault(),"Enter"!==t.key){var i=null;i="Backspace"===t.key?n.slice(0,-1):t.key&&1===t.key.length?n+t.key:n,o(i),r(!1)}else r(!0)};t((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}}))}(e,_,s,h),[n(i,null,n("span",{className:l.prompt},a),n("div",{className:l.lineText},n("span",{className:l.preWhiteSpace},_),e?n("span",{className:l.caret},n("span",{className:l.caretAfter})):null)),_,s,p,h]};function x(e){var r=a(null),l=o(d),c=o(p),_=c[0],s=c[1],m=e.consoleFocused,x=e.prompt,u=e.commands,f=e.welcomeMessage,g=e.errorMessage,b=h(m,x),v=b[0],k=b[1],y=b[2];return function(e,r,a,l,c,_,s,m,p){var h=o(d);t((function(){if(e){var t=l.trim().split(" "),o=t[0],d=t.slice(1),x="";if(l){var u=d.join(" ");if(o&&m[o]){var f=m[o];x="function"==typeof f?f(u):f}else x="function"==typeof p?p(u):p}var g=n(i,null,_,n("span",{className:h.prompt},a),n("span",{className:h.lineText+" "+h.preWhiteSpace},l),x?n("span",null,n("br",null),x):null,n("br",null));s(g),r(!1),c("")}}),[e])}(b[3],b[4],x,k,y,_,s,u,g),function(e,n){t((function(){n.current.scrollTop=n.current.scrollHeight}),[e])}(_,r),n("div",{ref:r,className:l.editor},f,_,v)}function u(e){var i,l,c,_=a(null),s=r(!0),p=s[0],h=s[1],u=o(d);i=_,l=h,c=function(e){i.current&&!i.current.contains(e.target)?l(!1):l(!0)},t((function(){return document.addEventListener("mousedown",c),function(){document.removeEventListener("mousedown",c)}}));var f=e.theme,g=e.showControlButtons,b=e.controlButtonLabels,v=e.prompt,k=e.commands,y=e.welcomeMessage,z=e.errorMessage;return n("div",{ref:_,id:u.terminalContainer,className:u["theme--"+f]},n("div",{className:""+u.terminal},n(m,{consoleFocused:p,showControlButtons:g,controlButtonLabels:b}),n(x,{consoleFocused:p,prompt:v,commands:k,welcomeMessage:y,errorMessage:z})))}function f(e){var t=e.children;return n(s,null,t)}function g(e){return n(f,null,n(u,c({},e)))}u.propTypes={theme:l.string,showControlButtons:l.bool,controlButtonLabels:l.arrayOf(l.string),prompt:l.string,commands:l.objectOf(l.oneOfType([l.string,l.func,l.node])),welcomeMessage:l.oneOfType([l.string,l.func,l.node]),errorMessage:l.string},u.defaultProps={theme:"light",showControlButtons:!0,controlButtonLabels:["close","minimize","maximize"],prompt:">>>",commands:{},welcomeMessage:"",errorMessage:"not found!"};var b=function(e){var t=e.children,o=r(""),i=o[0],a=o[1];return n(p.Provider,{value:[i,a]},t)},v={ReactTerminal:g,TerminalContextProvider:b};export default v;export{g as ReactTerminal,b as TerminalContextProvider};
